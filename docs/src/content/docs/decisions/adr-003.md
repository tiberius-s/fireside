---
title: 'ADR-003: Why TEA Guarantees?'
description: 'Behavioral guarantees inspired by The Elm Architecture to ensure consistent traversal semantics across engines.'
---

## ADR-003: Why TEA Guarantees?

**Status:** Accepted
**Applies to:** Fireside Protocol 0.1.0

### Context

Different engines will implement the Fireside traversal contract in different
languages, frameworks, and paradigms. The protocol needs to prescribe
behavioral guarantees that ensure consistent traversal semantics without
mandating a specific architecture.

The Elm Architecture (TEA) — a pattern of immutable model, message-driven
updates, and stateless view rendering — maps naturally to content graph
navigation.

### Decision

The Fireside Protocol prescribes **four behavioral guarantees** inspired by TEA:

1. **Immutable graph**: the document is read-only after loading. Engines MUST
   NOT mutate node content or traversal edges during a session.
2. **Sequential operations**: the four traversal operations (Next, Choose,
   Goto, Back) are applied one at a time. No concurrent state transitions.
3. **History stack**: a LIFO stack records non-linear jumps (Choose, Goto) and
   supports backtracking (Back). The stack contract is fully specified.
4. **Stateless render**: rendering is a pure function of the current model
   state. No render-time side effects on navigation state.

The protocol does **not** mandate TEA, Elm, Redux, or any specific framework.

### Consequences

- **Predictable behavior**: every conforming engine produces the same traversal
  sequence for the same inputs, regardless of implementation language.
- **Testable**: the state machine and history stack are fully deterministic.
  Engines can be validated with table-driven tests.
- **Engine freedom**: an engine may use TEA, MVC, ECS, or imperative loops —
  as long as the four guarantees hold.
- **No real-time collaboration**: immutable graph + sequential operations means
  multi-user editing is out of scope. This is intentional.
